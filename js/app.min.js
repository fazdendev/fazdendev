(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),function(){let e=0;window.matchMedia("(prefers-color-scheme: dark)").matches?(document.body.classList.remove("theme_light"),document.body.classList.add("theme_dark"),e=1):(document.body.classList.remove("theme_dark"),document.body.classList.add("theme_light"),e=0),"light"==localStorage.theme?(document.body.classList.remove("theme_dark"),document.body.classList.add("theme_light"),e=0):"dark"==localStorage.theme&&(document.body.classList.remove("theme_light"),document.body.classList.add("theme_dark"),e=1),document.addEventListener("click",(function(t){t.target.closest(".theme-button")&&1==e?(localStorage.clear("theme"),localStorage.setItem("theme","light"),e=0):t.target.closest(".theme-button")&&(localStorage.clear("theme"),localStorage.setItem("theme","dark"),e=1);"light"==localStorage.theme?(document.body.classList.remove("theme_dark"),document.body.classList.add("theme_light"),e=0):"dark"==localStorage.theme&&(document.body.classList.remove("theme_light"),document.body.classList.add("theme_dark"),e=1)}))}(),function(){const e=document.querySelector(".header");document.addEventListener("click",(function(t){t.target.closest(".header")||document.body.classList.remove("lock");t.target.closest(".icon-menu")&&(e.classList.toggle("_menu-open"),document.body.classList.toggle("lock"),e.classList.remove("_menu-closed"),e.classList.remove("_menu-loaded"));e.classList.contains("_menu-open")||e.classList.contains("_menu-loaded")||e.classList.add("_menu-closed")}))}(),navigator.userAgent.includes("irefox")&&function(e=320){const t=document.documentElement;let o,s,n,l=document.documentElement.clientWidth;l<=e?(o=parseInt(getComputedStyle(t).width),s=l/o,n=100*s,t.style.transform=`scale(${s})`,t.style.transformOrigin="top left",t.style.width=`${n}%`,t.style.height=`${n}%`):(t.style.transform="",t.style.transformOrigin="",t.style.width="",t.style.height=""),window.addEventListener("resize",(function(c){l=document.documentElement.clientWidth,l<=e?(o=parseInt(getComputedStyle(t).width),s=l/o,n=100*s,t.style.transformOrigin="top left",t.style.transform=`scale(${s})`,t.style.width=`${n}%`,t.style.height=`${n}%`):(t.style.transform="",t.style.transformOrigin="",t.style.width="",t.style.height="")}))}();new SmoothScroll('a[href*="#"]',{speed:300,updateURL:!1});!function(){let e,t,o,s=document.querySelectorAll(".feedback-form"),n=0;o=sessionStorage.formSent?JSON.parse(sessionStorage.formSent):0;for(let e=0;e<s.length;e++){l(s[e])}function l(e){o.value?function(e){e.classList.add("_form-sent")}(e):function(e){e.classList.remove("_form-sent")}(e)}function c(e){if(e.querySelectorAll("input").length){const t=e.querySelectorAll("input");for(let e=0;e<t.length;e++){const o=t[e];o&&(o.value="")}}if(e.querySelectorAll("textarea").length){const t=e.querySelectorAll("textarea");for(let e=0;e<t.length;e++){const o=t[e];o&&(o.value="")}}}document.addEventListener("click",(function(s){if(s.target.closest(".feedback-form__button")){s.preventDefault(),e=s.target.closest(".feedback-form__button"),t=e.closest(".feedback-form");let a=function(e){let t=0,o=e.querySelectorAll("._req");for(let i=0;i<o.length;i++){const r=o[i];e.contains(r)&&(n(r),c(r),""===r.value||" "===r.value?(s(r),t++):r.classList.contains("_email")&&0==a(r)&&(l(r),t++))}return t;function s(e){e.parentElement.classList.add("_blank-error"),e.classList.add("_blank-error")}function n(e){e.parentElement.classList.remove("_blank-error"),e.classList.remove("_blank-error")}function l(e){e.parentElement.classList.add("_email-error"),e.classList.add("_email-error")}function c(e){e.parentElement.classList.remove("_email-error"),e.classList.remove("_email-error")}function a(e){var t=e.value;if(0==/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(t))return!1}}(t);if(0===a)if(o.value&&1==!n&&(n=0),1!=n&&t.classList.contains("_form-sent"))o.value&&(t.classList.add("_confirm-sending"),n=1);else{function i(e,t=6e4,s=1e4,a=7500){let i,r=new FormData(e),d=new XMLHttpRequest;function u(e,t){e.classList.add("_form-sent-error"),setTimeout((function(){e.classList.remove("_form-sent-error")}),t)}d.open("POST","https://script.google.com/macros/s/AKfycbwz2VYI8q092-TvasLvhEn3cdKaBFpNYFyVwFUXzqea2kvjctVC5cXlda_eIaa9ZOSF/exec"),d.send(r),e.classList.add("_form-sending"),function(e,t=6e4,o=1e4){clearTimeout(i),i=setTimeout((function(){d.abort(),u(e,o),e.classList.remove("_form-sending"),e.classList.remove("_confirm-sending"),n=0}),t)}(e,t,s),d.onload=function(){200!=d.status?(u(e,s),e.classList.remove("_form-sending"),clearTimeout(i),e.classList.remove("_confirm-sending"),n=0):(!function(e,t){e.classList.add("_form-sent-success"),setTimeout((function(){e.classList.remove("_form-sent-success")}),t)}(e,a),e.classList.remove("_form-sending"),clearTimeout(i),sessionStorage.formSent=JSON.stringify({value:1}),o=JSON.parse(sessionStorage.formSent),l(e),e.classList.remove("_confirm-sending"),n=0,setTimeout(c,a,e))}}i(t)}else o.value&&(t.classList.remove("_confirm-sending"),n=0)}}))}(),document.addEventListener("DOMContentLoaded",(function(){(function(e=150,t=500,o=0){let s,n,l,c,a,i=0;function r(t){t.target.closest(".card-project__picture")&&(d(),s=t.target.closest(".card-project__picture"),n=s.querySelector("img"),l=n.clientHeight,c=l-s.offsetHeight,a=c/e,n.style.top=`-${c}px`,n.style.transition=`top ${a}s linear`,n.dataset.active="1",i?(n.style.top="0px",i=0):i=1)}if(document.addEventListener("click",r),matchMedia("(pointer:fine)").matches){function m(t){i=0,t.target.closest(".card-project__picture")?(d(),s=t.target.closest(".card-project__picture"),n=s.querySelector("img"),l=n.clientHeight,c=l-s.offsetHeight,a=c/e,n.style.top=`-${c}px`,n.style.transition=`top ${a}s linear`,n.dataset.active="1",i=1):d()}document.addEventListener("mouseover",m)}function d(){let t=document.querySelectorAll(".card-project__picture");for(let o=0;o<t.length;o++){const s=t[o],n=s.querySelector("img");let l=(n.clientHeight-s.offsetHeight)/e;n.dataset.active="0",n.style.transition=`top ${l}s linear`,n.style.top="0px"}}function u(e){e.target.closest(".card-project__picture")&&(s=e.target.closest(".card-project__picture"),n=s.querySelector("img"),"0"==n.dataset.active&&(i=0,d())),e.target.closest(".card-project__picture")||(i=0,d())}document.addEventListener("pointerdown",u)})(),setTimeout((function(){document.body.classList.remove("_first-load")}),500)})),function(){let e=["en","ru"],t=document.querySelectorAll(".language-select");function o(){let t=window.location.hash;t=t.substr(1),e.includes(t)||(location.href=window.location.pathname+"#ru",location.reload());let o=JSON.parse(function(e){let t=new XMLHttpRequest;return t.open("get",e,!0),t.send(null),t.responseText}("files/language-data/site-content.json"));for(let e in o)if(e){let s=`[data-lang-key=${e}]`,n=document.querySelectorAll(s);for(let s=0;s<n.length;s++){const l=n[s];l&&o[e][t]&&""==!o[e][t]&&(l.innerHTML=o[e][t])}}}!function(){let e=0,s=0,n=0,l=0;function c(){let e=window.location.hash;e=e.substr(1);for(let o=0;o<t.length;o++){let s=t[o],n=s.querySelector(".language-select__button");s.querySelector("input").value=e,n.innerText=e;let l=s.querySelectorAll(".language-select__option"),c=0;for(let t=0;t<l.length;t++){const o=l[t];o.dataset.value==`${e}`&&o.classList.add("_option-selected"),o.dataset.value!=`${e}`&&o.classList.remove("_option-selected"),l[t].classList.contains("_option-selected")||(o.classList.add("_visible-child"),c||o.classList.add("_first-visible-child"),c=1)}}}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var o=0;o<this.length;o++)e.call(t,this[o],o,this)}),document.addEventListener("click",(function(a){function i(e,o){if(e&&o.length)for(let e=0;e<t.length;e++){let s=t[e];s.classList.remove("_opened"),s.classList.remove("_current-active"),o.forEach((function(e){e.removeEventListener("click",(function(e){}))}))}e=0,s=0,o=0}e&&n.length&&!a.target.closest(".language-select")&&i(e,n),a.target.closest(".language-select__button")&&(e&&a.target.closest("._current-active")?e.classList.contains("_opened")?i(e,n):e.classList.add("_opened"):(i(e,n),e=a.target.closest(".language-select"),s=e.querySelector(".language-select__button"),n=e.querySelectorAll(".language-select__option"),l=e.querySelector("input"),e.classList.add("_current-active"),e.classList.contains("_opened")?i(e,n):e.classList.add("_opened"),n.length&&n.forEach((function(t){t.addEventListener("click",(function(t){l.value=this.dataset.value,s.focus(),function(e){let t=e.value;location.href=window.location.pathname+"#"+t,location.reload()}(l),o(),c(),i(e,n)}))}))))})),document.addEventListener("keydown",(function(t){("Tab"===t.key||"Escape"===t.key)&&e&&n.length&&disableAndCloseSelects(e,n)})),c()}(),o()}(),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();