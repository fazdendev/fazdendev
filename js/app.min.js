(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),function(){let e=0;window.matchMedia("(prefers-color-scheme: dark)").matches?(document.body.classList.remove("theme_light"),document.body.classList.add("theme_dark"),e=1):(document.body.classList.remove("theme_dark"),document.body.classList.add("theme_light"),e=0),"light"==localStorage.theme?(document.body.classList.remove("theme_dark"),document.body.classList.add("theme_light"),e=0):"dark"==localStorage.theme&&(document.body.classList.remove("theme_light"),document.body.classList.add("theme_dark"),e=1),document.addEventListener("click",(function(t){t.target.closest(".theme-button")&&1==e?(localStorage.clear("theme"),localStorage.setItem("theme","light"),e=0):t.target.closest(".theme-button")&&(localStorage.clear("theme"),localStorage.setItem("theme","dark"),e=1);"light"==localStorage.theme?(document.body.classList.remove("theme_dark"),document.body.classList.add("theme_light"),e=0):"dark"==localStorage.theme&&(document.body.classList.remove("theme_light"),document.body.classList.add("theme_dark"),e=1)}))}(),function(){const e=document.querySelector(".header");document.addEventListener("click",(function(t){t.target.closest(".header")||document.body.classList.remove("lock");t.target.closest(".icon-menu")&&(e.classList.toggle("_menu-open"),document.body.classList.toggle("lock"),e.classList.remove("_menu-closed"),e.classList.remove("_menu-loaded"));e.classList.contains("_menu-open")||e.classList.contains("_menu-loaded")||e.classList.add("_menu-closed")}))}(),navigator.userAgent.includes("irefox")&&function(e=320){const t=document.documentElement;let s,o,n,a=document.documentElement.clientWidth;a<=e?(s=parseInt(getComputedStyle(t).width),o=a/s,n=100*o,t.style.transform=`scale(${o})`,t.style.transformOrigin="top left",t.style.width=`${n}%`,t.style.height=`${n}%`):(t.style.transform="",t.style.transformOrigin="",t.style.width="",t.style.height=""),window.addEventListener("resize",(function(l){a=document.documentElement.clientWidth,a<=e?(s=parseInt(getComputedStyle(t).width),o=a/s,n=100*o,t.style.transformOrigin="top left",t.style.transform=`scale(${o})`,t.style.width=`${n}%`,t.style.height=`${n}%`):(t.style.transform="",t.style.transformOrigin="",t.style.width="",t.style.height="")}))}();new SmoothScroll('a[href*="#"]',{speed:300,updateURL:!1,header:"[data-scroll-header]"});!function(){let e,t,s,o=document.querySelectorAll(".feedback-form"),n=0;s=sessionStorage.formSent?JSON.parse(sessionStorage.formSent):0;for(let e=0;e<o.length;e++){a(o[e])}function a(e){s.value?function(e){e.classList.add("_form-sent")}(e):function(e){e.classList.remove("_form-sent")}(e)}function l(e){if(e.querySelectorAll("input").length){const t=e.querySelectorAll("input");for(let e=0;e<t.length;e++){const s=t[e];s&&(s.value="")}}if(e.querySelectorAll("textarea").length){const t=e.querySelectorAll("textarea");for(let e=0;e<t.length;e++){const s=t[e];s&&(s.value="")}}}document.addEventListener("click",(function(o){if(o.target.closest(".feedback-form__button")){o.preventDefault(),e=o.target.closest(".feedback-form__button"),t=e.closest(".feedback-form");let c=function(e){let t=0,s=e.querySelectorAll("._req");for(let r=0;r<s.length;r++){const i=s[r];e.contains(i)&&(n(i),l(i),""===i.value||" "===i.value?(o(i),t++):i.classList.contains("_email")&&0==c(i)&&(a(i),t++))}return t;function o(e){e.parentElement.classList.add("_blank-error"),e.classList.add("_blank-error")}function n(e){e.parentElement.classList.remove("_blank-error"),e.classList.remove("_blank-error")}function a(e){e.parentElement.classList.add("_email-error"),e.classList.add("_email-error")}function l(e){e.parentElement.classList.remove("_email-error"),e.classList.remove("_email-error")}function c(e){var t=e.value;if(0==/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(t))return!1}}(t);if(0===c)if(s.value&&1==!n&&(n=0),1!=n&&t.classList.contains("_form-sent"))s.value&&(t.classList.add("_confirm-sending"),n=1);else{function r(e,t=6e4,o=1e4,c=7500){let r,i=new FormData(e),d=new XMLHttpRequest;function u(e,t){e.classList.add("_form-sent-error"),setTimeout((function(){e.classList.remove("_form-sent-error")}),t)}d.open("POST","https://script.google.com/macros/s/AKfycbwz2VYI8q092-TvasLvhEn3cdKaBFpNYFyVwFUXzqea2kvjctVC5cXlda_eIaa9ZOSF/exec"),d.send(i),e.classList.add("_form-sending"),function(e,t=6e4,s=1e4){clearTimeout(r),r=setTimeout((function(){d.abort(),u(e,s),e.classList.remove("_form-sending"),e.classList.remove("_confirm-sending"),n=0}),t)}(e,t,o),d.onload=function(){200!=d.status?(u(e,o),e.classList.remove("_form-sending"),clearTimeout(r),e.classList.remove("_confirm-sending"),n=0):(!function(e,t){e.classList.add("_form-sent-success"),setTimeout((function(){e.classList.remove("_form-sent-success")}),t)}(e,c),e.classList.remove("_form-sending"),clearTimeout(r),sessionStorage.formSent=JSON.stringify({value:1}),s=JSON.parse(sessionStorage.formSent),a(e),e.classList.remove("_confirm-sending"),n=0,setTimeout(l,c,e))}}r(t)}else s.value&&(t.classList.remove("_confirm-sending"),n=0)}}))}(),document.addEventListener("DOMContentLoaded",(function(){(function(e=150,t=500,s=0){let o,n,a,l,c,r=0;function i(t){t.target.closest("._hover-scrollable")&&(d(),o=t.target.closest("._hover-scrollable"),n=o.querySelector("img"),t.target.closest("source")?(console.log(t.target),n=o.querySelector("source")):t.target.closest("img")&&(n=o.querySelector("img")),n&&(a=n.clientHeight,l=a-o.offsetHeight,c=l/e,n.style.top=`-${l}px`,n.style.transition=`top ${c}s linear`,n.dataset.active="1",r?(n.style.top="0px",r=0):r=1))}if(document.addEventListener("click",i),matchMedia("(pointer:fine)").matches){function m(t){r=0,t.target.closest("._hover-scrollable")?(d(),o=t.target.closest("._hover-scrollable"),n=o.querySelector("img"),n&&(a=n.clientHeight,l=a-o.offsetHeight,c=l/e,n.style.top=`-${l}px`,n.style.transition=`top ${c}s linear`,n.dataset.active="1",r=1)):d()}document.addEventListener("mouseover",m)}function d(){let t=document.querySelectorAll("._hover-scrollable");for(let s=0;s<t.length;s++){const o=t[s],n=o.querySelector("img");if(n){let t=(n.clientHeight-o.offsetHeight)/e;n.dataset.active="0",n.style.transition=`top ${t}s linear`,n.style.top="0px"}}}function u(e){e.target.closest("._hover-scrollable")&&(o=e.target.closest("._hover-scrollable"),n=o.querySelector("img"),n&&"0"==n.dataset.active&&(r=0,d())),e.target.closest("._hover-scrollable")||(r=0,d())}document.addEventListener("pointerdown",u)})(),setTimeout((function(){document.body.classList.remove("_first-load")}),500)}));let t=0;function s(){!window.NodeList||NodeList.prototype.forEach||t||(NodeList.prototype.forEach=function(e,t){t=t||window;for(var s=0;s<this.length;s++)e.call(t,this[s],s,this)},t=1)}!async function e(){let t=document.querySelectorAll(".language-select"),o=window.location.hash;if(o=o.substr(1),!["en","ru"].includes(o))return location.href=window.location.pathname+"#ru",e();async function n(){let e=window.location.hash;e=e.substr(1);let t=JSON.parse(await async function(e){let t=await fetch(e);if(t.ok){return await t.text()}alert("Ошибка получения языковых данных: "+t.status)}("files/language-data/site-content.json"));for(let s in t)if(s){let o=`[data-lang-key=${s}]`,n=document.querySelectorAll(o);for(let o=0;o<n.length;o++){const a=n[o];a&&t[s][e]&&""==!t[s][e]&&(a.innerHTML=t[s][e])}}}!function(){s();let e=0,o=0,a=0,l=0;function c(){let e=window.location.hash;e=e.substr(1);for(let s=0;s<t.length;s++){let o=t[s],n=o.querySelector(".language-select__button");o.querySelector("input").value=e,n.innerText=e;let a=o.querySelectorAll(".language-select__option"),l=0;for(let t=0;t<a.length;t++){const s=a[t];s.dataset.value==`${e}`&&s.classList.add("_option-selected"),s.dataset.value!=`${e}`&&s.classList.remove("_option-selected"),a[t].classList.contains("_option-selected")||(s.classList.add("_visible-child"),l||s.classList.add("_first-visible-child"),l=1)}}}document.addEventListener("click",(function(s){function r(e,s){if(e&&s.length)for(let e=0;e<t.length;e++){let o=t[e];o.classList.remove("_opened"),o.classList.remove("_current-active"),s.forEach((function(e){e.removeEventListener("click",(function(e){}))}))}e=0,o=0,s=0}e&&a.length&&!s.target.closest(".language-select")&&r(e,a),s.target.closest(".language-select__button")&&(e&&s.target.closest("._current-active")?e.classList.contains("_opened")?r(e,a):e.classList.add("_opened"):(r(e,a),e=s.target.closest(".language-select"),o=e.querySelector(".language-select__button"),a=e.querySelectorAll(".language-select__option"),l=e.querySelector("input"),e.classList.add("_current-active"),e.classList.contains("_opened")?r(e,a):e.classList.add("_opened"),a.length&&a.forEach((function(t){t.addEventListener("click",(function(t){l.value=this.dataset.value,console.log(e),console.log(o),o?o.focus():e&&(o=e.querySelector(".language-select__button"),o&&o.focus()),function(e){let t=e.value;location.href=window.location.pathname+"#"+t}(l),n(),c(),r(e,a)}))}))))})),document.addEventListener("keydown",(function(t){("Tab"===t.key||"Escape"===t.key)&&e&&a.length&&disableAndCloseSelects(e,a)})),c()}(),n()}(),function(){let e={};const t=new IntersectionObserver((function(e){e.forEach((e=>{if(e.isIntersecting){e.target.play()}if(0==e.isIntersecting){e.target.pause()}}))}),e),o=new IntersectionObserver((function(e){e.forEach((e=>{if(e.isIntersecting&&e.target.matches("video[data-src]")&&""!=e.target.dataset.src){let t=e.target;t.src=t.dataset.src,t.removeAttribute("data-src"),t.load(),t.play(),o.unobserve(t)}}))}),e);let n=document.querySelectorAll(".lazy-video-parent video"),a=document.querySelectorAll(".lazy-video-parent");n.length&&(s(),n.forEach((e=>t.observe(e))),n.forEach((e=>o.observe(e)))),a.length&&(s(),a.forEach((e=>{let t=e.querySelector("video");t&&(e.classList.add("lazy-video-parent_seeking"),t.onwaiting=function(){e.classList.remove("lazy-video-parent_seeking"),e.classList.add("lazy-video-parent_loading")},t.ontimeupdate=function(){e.classList.remove("lazy-video-parent_seeking"),e.classList.remove("lazy-video-parent_loading")})})))}(),function(){const e=new IntersectionObserver((function(t){t.forEach((t=>{if(t.isIntersecting)if(t.target.matches("img[data-src]")&&""!=t.target.dataset.src){let s=t.target;s.src=s.dataset.src,s.removeAttribute("data-src"),e.unobserve(s)}else if(t.target.matches("source[data-srcset]")&&""!=t.target.dataset.srcset){let s=t.target;s.srcset=s.dataset.srcset,s.removeAttribute("data-srcset"),e.unobserve(s)}}))}),{});let t=document.querySelectorAll("img[data-src], source[data-srcset]");t.length&&(s(),t.forEach((t=>e.observe(t))))}(),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();